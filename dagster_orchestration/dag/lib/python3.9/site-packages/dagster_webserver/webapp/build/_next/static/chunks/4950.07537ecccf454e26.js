"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4950],{21473:function(e,n,t){t.d(n,{G:function(){return A}});var r=t(73235),i=t(52322),s=t(49853),o=t(49308),l=t(14934),a=t(37483),c=t(43212),u=t(89891),d=t(80122),h=t(56619),p=t(2784),x=t(7267),j=t(36381),m=t(76016),f=t(20958),g=t(78491),v=t(16336),b=t(69737),y=t(33298),R=t(30916),S=t(43984),_=t(33182),C=t(52338),k=t(15332),E=t(88610),I=t(59923),w=t(85062),P=t(92199),F=t(22563),O=t(10539);function $(){let e=(0,r._)(["\n  query PipelineRunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return $=function(){return e},e}let T=["status","tag","id","created_date_before","created_date_after"],A=e=>{(0,b.Px)();let{pipelinePath:n}=(0,x.UO)(),{repoAddress:t=null}=e,r=(0,j.p3)(n),{pipelineName:h,snapshotId:f}=r,g=(0,P.Ux)(t),R=(0,P.E8)(g,h);(0,m.b)(r,R);let[E,O]=(0,C.oD)(T),$=(0,p.useMemo)(()=>[R?{token:"job",value:h}:{token:"pipeline",value:h},f?{token:"snapshotId",value:f}:null].filter(Boolean),[R,h,f]),A=[...E,...$];if(t){let e={token:"tag",value:"".concat(S.H.RepositoryLabelTag,"=").concat((0,F.Wg)(t))};A.push(e)}let{queryResult:U,paginationProps:V}=(0,k.l)({query:N,pageSize:25,variables:{filter:{...(0,C.VH)(A),pipelineName:h,snapshotId:f}},nextCursorForResult:e=>{var n;if("Runs"===e.pipelineRunsOrError.__typename)return null===(n=e.pipelineRunsOrError.results[24])||void 0===n?void 0:n.id},getResultArray:e=>e&&"Runs"===e.pipelineRunsOrError.__typename?e.pipelineRunsOrError.results:[]}),z=(0,p.useCallback)(e=>{let n=(0,s.HY)(e);E.some(e=>(0,s.HY)(e)===n)||O([...E,e])},[E,O]),H=(0,v.C4)(U,v.dT),{button:q,activeFiltersJsx:B}=(0,C.Vv)({enabledFilters:T,tokens:E,onChange:O,loading:U.loading});return(0,i.jsx)(_.Lw.Provider,{value:{refetch:U.refetch},children:(0,i.jsx)(o.T,{children:(0,i.jsx)(I.g,{queryResult:U,allowStaleData:!0,children:e=>{let{pipelineRunsOrError:r}=e;if("Runs"!==r.__typename)return(0,i.jsx)(l.x,{padding:{vertical:64},children:(0,i.jsx)(a.t,{icon:"error",title:"Query Error",description:r.message})});let s=r.results.slice(0,25),{hasNextCursor:o,hasPrevCursor:p}=V;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w.Y,{$top:0,children:(0,i.jsx)(y.A,{runs:s,onAddTag:z,actionBarComponents:(0,i.jsxs)(l.x,{flex:{direction:"row",justifyContent:"space-between",grow:1,alignItems:"center",gap:4},margin:{right:8},children:[q,(0,i.jsx)(v.xi,{refreshState:H})]}),belowActionBarComponents:(0,i.jsxs)(i.Fragment,{children:[$.map(e=>{let{token:n,value:t}=e;return(0,i.jsx)(c.V,{children:"".concat(n,":").concat(t)},n)}),B.length?(0,i.jsxs)(i.Fragment,{children:[B,(0,i.jsx)(u.Z,{onClick:()=>{O([])},children:"Clear all"})]}):null]}),emptyState:()=>(0,i.jsx)(Y,{repoAddress:t,anyFilter:E.length>0,jobName:h,jobPath:n})})}),o||p?(0,i.jsx)("div",{style:{marginTop:"20px"},children:(0,i.jsx)(d.pI,{...V})}):null]})}})})})},Y=e=>{let{repoAddress:n,anyFilter:t,jobName:r,jobPath:s}=e,o=(0,P.Ux)(n),c=(0,P.Hb)(o,r);return(0,i.jsx)(l.x,{padding:{vertical:64},children:(0,i.jsx)(a.t,{icon:"run",title:"No runs found",description:n?c?(0,i.jsxs)(l.x,{flex:{direction:"column",gap:12},children:[(0,i.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not materialized any assets with this job yet."}),(0,i.jsx)("div",{children:(0,i.jsx)(E.A,{icon:(0,i.jsx)(h.JO,{name:"materialization"}),to:(0,O.$U)(n,"/jobs/".concat(s)),children:"Materialize an asset"})})]}):(0,i.jsxs)(l.x,{flex:{direction:"column",gap:12},children:[(0,i.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not launched any runs for this job yet."}),(0,i.jsx)("div",{children:(0,i.jsx)(E.A,{icon:(0,i.jsx)(h.JO,{name:"add_circle"}),to:(0,O.$U)(n,"/jobs/".concat(s,"/playground")),children:"Launch a run"})})]}):(0,i.jsx)("div",{children:"You have not launched any runs for this job."})})})},N=(0,f.Ps)($(),R.Z,g.B)},84950:function(e,n,t){t.r(n),t.d(n,{SnapshotRoot:function(){return S},default:function(){return _}});var r=t(52322),i=t(7267),s=t(99478),o=t(73235),l=t(43212),a=t(74580),c=t(35292),u=t(74188),d=t(73407),h=t(47933),p=t(20958),x=t(36381),j=t(89918),m=t(92199),f=t(10539);function g(){let e=(0,o._)(["\n  query SnapshotQuery($snapshotId: String!) {\n    pipelineSnapshotOrError(snapshotId: $snapshotId) {\n      ... on PipelineSnapshot {\n        id\n        parentSnapshotId\n      }\n    }\n  }\n"]);return g=function(){return e},e}let v=(0,p.Ps)(g()),b=e=>{var n,t;let{activeTab:i="",explorerPath:s}=e,{pipelineName:o,snapshotId:g=""}=s,b=(0,x.gY)({...s,opNames:[]}),y=(0,m.Nc)(o),R=null==y?void 0:y.pipelineSnapshotId,{data:S,loading:_}=(0,p.aM)(v,{variables:{snapshotId:g}});return(0,r.jsx)(a.m,{title:(0,r.jsx)(c.X6,{style:{fontFamily:u.b.monospace,fontSize:"16px"},children:null===(n=s.snapshotId)||void 0===n?void 0:n.slice(0,8)}),tags:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.V,{icon:"schema",children:["Snapshot of"," ",(0,r.jsx)(h.rU,{to:(0,f.r4)(s.pipelineName),children:s.pipelineName})]}),_?(0,r.jsx)(l.V,{intent:"none",minimal:!0,children:"..."}):R&&(R===g||(null==S?void 0:S.pipelineSnapshotOrError.__typename)!=="PipelineSnapshot"||(null==S?void 0:null===(t=S.pipelineSnapshotOrError)||void 0===t?void 0:t.parentSnapshotId)===R)?(0,r.jsx)(l.V,{intent:"success",minimal:!0,children:"Current"}):(0,r.jsx)(l.V,{intent:"warning",minimal:!0,children:"Snapshot"})]}),tabs:(0,r.jsx)(d.mQ,{selectedTabId:i,children:[{text:"Definition",pathComponent:"",href:"/snapshots/".concat(b)},{text:"Runs",pathComponent:"runs",href:"/snapshots/".concat(b,"runs")}].map(e=>{let{href:n,text:t,pathComponent:i}=e;return(0,r.jsx)(j.f,{id:i,title:t,to:n},t)})})})};var y=t(17872),R=t(21473);let S=()=>{let{pipelinePath:e,tab:n}=(0,i.UO)(),t=(0,x.p3)(e);return(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%"},children:[(0,r.jsx)(b,{activeTab:n,explorerPath:t}),(0,r.jsxs)(i.rs,{children:[(0,r.jsx)(y.A,{path:"/snapshots/:pipelinePath/runs",children:(0,r.jsx)(R.G,{})}),(0,r.jsx)(y.A,{path:"/snapshots/(/?.*)",children:(0,r.jsx)(s.CY,{})})]})]})};var _=S},85062:function(e,n,t){t.d(n,{Y:function(){return i}});var r=t(39013);let i=t(35505).ZP.div.withConfig({componentId:"sc-1e417a12-0"})(["thead tr{position:sticky;top:","px;background-color:",";z-index:1;}thead tr th{position:relative;}thead tr th::after{content:'';display:block;height:1px;background-color:",";position:absolute;bottom:-1px;left:0;right:0;}"],e=>{let{$top:n=0}=e;return n},r.v8(),r.wL())}}]);
//# sourceMappingURL=4950.07537ecccf454e26.js.map