"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5701,3738],{60648:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(52322),i=t(43212),o=t(14934),s=t(55010),l=t(2784),c=t(90797),d=t(88257),a=t(54516),u=t(84046),x=t(59351),p=t(33182),h=t(88610);let m=(0,l.memo)(e=>{let{name:n,run:t,showHover:m=!1,showButton:f=!0,showSummary:j=!0}=e,{status:g}=t,w=(0,l.useMemo)(()=>{switch(g){case d.VOA.SUCCESS:return"success";case d.VOA.CANCELED:case d.VOA.CANCELING:case d.VOA.FAILURE:return"danger";default:return"none"}},[g]);return(0,r.jsxs)(o.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-start",gap:16},children:[(0,r.jsxs)(o.x,{flex:{direction:"column",alignItems:"flex-start",gap:4},children:[(0,r.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(()=>{let e=(0,r.jsx)(i.V,{intent:w,children:(0,r.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,r.jsx)(a.K9,{status:t.status,size:10}),(0,r.jsx)(p.Zr,{run:t})]})});return m?(0,r.jsx)(s.J,{position:"top",interactionKind:"hover",content:(0,r.jsx)("div",{children:(0,r.jsx)(u.qL,{run:t,name:n})}),hoverOpenDelay:100,children:e}):e})(),j?(0,r.jsx)(p.Tw,{run:t}):null]}),j&&(x.hd.has(t.status)||x.Ys.has(t.status))?(0,r.jsx)(c.I,{runId:t.id}):void 0]}),f?(0,r.jsx)(h.A,{to:"/runs/".concat(t.id),children:"View run"}):null]})})},90797:function(e,n,t){t.d(n,{I:function(){return m}});var r=t(73235),i=t(52322),o=t(35292),s=t(39013),l=t(19126),c=t.n(l),d=t(2784),a=t(47933),u=t(20958),x=t(88257),p=t(59351);function h(){let e=(0,r._)(["\n  query StepSummaryForRunQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        status\n        stepStats {\n          endTime\n          stepKey\n          status\n        }\n      }\n    }\n  }\n"]);return h=function(){return e},e}let m=e=>{let{runId:n}=e,{data:t}=(0,u.aM)(f,{variables:{runId:n}}),r=null==t?void 0:t.pipelineRunOrError,l=(null==r?void 0:r.__typename)==="Run"?r.status:null,h=(0,d.useMemo)(()=>{if((null==r?void 0:r.__typename)!=="Run")return[];let{status:e}=r;return p.hd.has(e)?r.stepStats.filter(e=>e.status===x.SGm.FAILURE):p.Ys.has(e)?r.stepStats.filter(e=>e.status===x.SGm.IN_PROGRESS):[]},[r]),m=h.length;if(!m||!l)return null;if(p.hd.has(l)){if(1===m){let e=h[0],t=e.endTime?c().stringify({focusedTime:Math.floor(1e3*e.endTime)},{addQueryPrefix:!0}):"";return(0,i.jsxs)(o.YS,{color:s.$(),children:["Failed at ",(0,i.jsx)(a.rU,{to:"/runs/".concat(n).concat(t),children:e.stepKey})]})}return(0,i.jsxs)(o.YS,{color:s.$(),children:["Failed at ",(0,i.jsxs)(a.rU,{to:"/runs/".concat(n),children:[m," steps"]})]})}if(p.Ys.has(l)){if(1===m){let e=h[0],t=e.endTime?c().stringify({focusedTime:Math.floor(1e3*e.endTime)},{addQueryPrefix:!0}):"";return(0,i.jsxs)(o.YS,{color:s.$(),children:["In progress at ",(0,i.jsx)(a.rU,{to:"/runs/".concat(n).concat(t),children:e.stepKey})]})}return(0,i.jsxs)(o.YS,{color:s.$(),children:["In progress at ",(0,i.jsxs)(a.rU,{to:"/runs/".concat(n),children:[m," steps"]})]})}return null},f=(0,u.Ps)(h())},71357:function(e,n,t){t.r(n),t.d(n,{JobsRoot:function(){return a}});var r=t(52322),i=t(14934),o=t(74580),s=t(35292),l=t(63065),c=t(69737),d=t(20171);let a=()=>((0,c.Px)(),(0,d.j)("Jobs"),(0,r.jsxs)(i.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,r.jsx)(o.m,{title:(0,r.jsx)(s.X6,{children:"Jobs"})}),(0,r.jsx)(l.e,{})]}));n.default=a},84046:function(e,n,t){t.d(n,{JH:function(){return j},qL:function(){return g}});var r=t(52322),i=t(14934),o=t(55010),s=t(35292),l=t(39013),c=t(74188),d=t(47933),a=t(35505),u=t(54516),x=t(67994),p=t(59351),h=t(33182),m=t(90797);let f=e=>{let{status:n,opacity:t=1}=e,i=x.YM[n];return(0,r.jsx)(I,{$color:i,$opacity:t})},j=e=>{let{fade:n,jobName:t,runs:s}=e,l=s.length,c=.8/Math.max(3,l);return(0,r.jsx)(i.x,{flex:{direction:"row",alignItems:"center",gap:2},children:s.map((e,i)=>(0,r.jsx)(o.J,{position:"top",interactionKind:"hover",content:(0,r.jsx)("div",{children:(0,r.jsx)(g,{run:e,name:t})}),hoverOpenDelay:100,children:(0,r.jsx)(f,{runId:e.id,status:e.status,opacity:n?1-(l-i-1)*c:1},e.id)},e.id))})},g=e=>{let{name:n,run:t}=e;return(0,r.jsxs)(w,{children:[(0,r.jsx)(b,{children:n}),(0,r.jsxs)(v,{children:[(0,r.jsxs)(i.x,{flex:{alignItems:"center",direction:"row",gap:8},children:[(0,r.jsx)(u.K9,{status:t.status}),(0,r.jsx)(d.rU,{to:"/runs/".concat(t.id),children:(0,r.jsx)(s.aU,{children:(0,h.EI)(t)})})]}),(0,r.jsxs)(i.x,{flex:{direction:"column",gap:4},children:[(0,r.jsx)(h.Zr,{run:t}),(0,r.jsx)(h.Tw,{run:t})]})]}),p.hd.has(t.status)||p.Ys.has(t.status)?(0,r.jsx)(y,{children:(0,r.jsx)(m.I,{runId:t.id})}):null]})},w=a.ZP.div.withConfig({componentId:"sc-59d147fc-0"})(["padding:4px;font-size:12px;width:220px;"]),b=a.ZP.div.withConfig({componentId:"sc-59d147fc-1"})(["padding:8px;box-shadow:inset 0 -1px ",";font-family:",";font-size:14px;font-weight:500;color:",";max-width:100%;text-overflow:ellipsis;overflow:hidden;min-width:0px;"],l.wL(),c.b.default,l.Ep()),v=a.ZP.div.withConfig({componentId:"sc-59d147fc-2"})(["padding:8px;display:flex;align-items:flex-start;justify-content:space-between;"]),y=a.ZP.div.withConfig({componentId:"sc-59d147fc-3"})(["overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:4px 8px 8px;:empty{display:none;}"]),I=a.ZP.div.withConfig({componentId:"sc-59d147fc-4"})(["background-color:",";border-radius:2px;height:16px;opacity:",";width:8px;"],e=>{let{$color:n}=e;return n},e=>{let{$opacity:n}=e;return n})},73658:function(e,n,t){t.d(n,{W:function(){return d}});var r=t(52322),i=t(2784);let o=e=>{let[n,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let n=setTimeout(()=>t(!0),e);return()=>clearTimeout(n)},[e]),n};var s=t(14934),l=t(35002),c=t(79106);let d=e=>{let{tooltipContent:n}=e;return o(2e3)?(0,r.jsx)(s.x,{margin:{top:1},children:(0,r.jsx)(l.u,{placement:"top",canShow:!!n,content:n||"",children:(0,r.jsx)(c.$,{purpose:"body-text"})})}):null}},94853:function(e,n,t){t.d(n,{N:function(){return d},l:function(){return c}});var r=t(52322),i=t(14934),o=t(56619),s=t(39013),l=t(35505);let c=32,d=e=>{let{expanded:n,onClick:t,children:s,rightElement:l}=e;return(0,r.jsx)(a,{$open:n,onClick:t,children:(0,r.jsxs)(i.x,{flex:{alignItems:"center",justifyContent:"space-between"},padding:{horizontal:24},children:[s,(0,r.jsxs)(i.x,{flex:{alignItems:"center",gap:8},children:[l,(0,r.jsx)(i.x,{margin:{top:2},children:(0,r.jsx)(o.JO,{name:"arrow_drop_down"})})]})]})})},a=l.ZP.button.withConfig({componentId:"sc-59cc4c28-0"})(["background-color:",";border:0;box-shadow:inset 0px -1px 0 ",",inset 0px 1px 0 ",";color:",";cursor:pointer;display:block;padding:0;width:100%;margin:0;height:","px;text-align:left;:focus,:active{outline:none;}:hover{background-color:",";}",'[aria-label="arrow_drop_down"]{transition:transform 100ms linear;',"}"],s.gJ(),s.wL(),s.wL(),s.$(),c,s._c(),o.a1,e=>{let{$open:n}=e;return n?null:"transform: rotate(-90deg);"})},63485:function(e,n,t){t.d(n,{I:function(){return F},b:function(){return Z}});var r=t(73235),i=t(52322),o=t(53664),s=t(14934),l=t(2784),c=t(47933),d=t(35505),a=t(83738),u=t(92199),x=t(10539),p=t(20958),h=t(16336),m=t(60603),f=t(79106),j=t(55010),g=t(35002),w=t(38491),b=t(56619),v=t(36803),y=t(32177),I=t(51701),S=t(88257),E=t(83846),C=t(42519),N=t(43);function R(){let e=(0,r._)(["\n  query RunReExecutionQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        status\n        pipelineName\n        executionPlan {\n          artifactsPersisted\n          ...ExecutionPlanToGraphFragment\n        }\n      }\n    }\n  }\n  ","\n"]);return R=function(){return e},e}let P=e=>{let{job:n,isAssetJob:t,repoAddress:r}=e,o=n.runs.length?n.runs[0]:null,s={pipelineName:n.name,repositoryName:r.name,repositoryLocationName:r.location},c=(0,y.DO)(n.name),d=(0,C.D)(),{permissions:{canLaunchPipelineReexecution:a,canLaunchPipelineExecution:u},disabledReasons:h}=(0,v.xz)(r.location),[I,R]=(0,p.td)(L),{data:P}=R,_=(0,l.useCallback)(()=>{(null==o?void 0:o.id)&&I({variables:{runId:o.id}})},[o,I]),J=(null==P?void 0:P.pipelineRunOrError.__typename)==="Run"?null==P?void 0:P.pipelineRunOrError:null,$="loading"===t?(0,i.jsx)(m.sN,{icon:"execute",text:"Loading...",disabled:!0}):!0===t?(0,i.jsx)(m.sN,{icon:c.loading?(0,i.jsx)(f.$,{purpose:"caption-text"}):"execute",text:"Launch new run",disabled:!u,onClick:e=>c.onClick(s,e)}):(0,i.jsx)(N.U,{icon:"execute",text:"Launch new run",disabled:!u,to:(0,x.jT)({repoName:r.name,repoLocation:r.location,pipelineName:n.name,isJob:n.isJob,path:"/playground"})}),O=(0,i.jsx)(m.sN,{icon:"replay",text:"Re-execute latest run",onClick:()=>J?d(J,S.hmq.ALL_STEPS):void 0,disabled:!a||!J||!(0,E.EP)(J)}),T=(0,i.jsx)(m.sN,{icon:"sync_problem",text:"Re-execute latest run from failure",onClick:()=>J?d(J,S.hmq.FROM_FAILURE):void 0,disabled:!a||!J||!(0,E.VM)(J)});return(0,i.jsxs)(i.Fragment,{children:[c.launchpadElement,(0,i.jsx)(j.J,{onOpened:()=>_(),content:(0,i.jsxs)(m.v2,{children:[(0,i.jsx)(N.U,{to:(0,x.jT)({repoName:r.name,repoLocation:r.location,pipelineName:n.name,isJob:n.isJob}),icon:"job",text:"View job"}),(0,i.jsx)(N.U,{to:(0,x.jT)({repoName:r.name,repoLocation:r.location,pipelineName:n.name,isJob:n.isJob,path:"/runs"}),icon:"checklist",text:"View all recent runs"}),u?$:(0,i.jsx)(g.u,{content:h.canLaunchPipelineExecution,display:"block",children:$}),a?O:(0,i.jsx)(g.u,{content:h.canLaunchPipelineReexecution,display:"block",children:O}),a?T:(0,i.jsx)(g.u,{content:h.canLaunchPipelineReexecution,display:"block",children:T})]}),position:"bottom-left",children:(0,i.jsx)(w.zx,{icon:(0,i.jsx)(b.JO,{name:"expand_more"})})})]})},L=(0,p.Ps)(R(),I.$);var _=t(60648),J=t(74283),$=t(84046),O=t(33182),T=t(4219),k=t(60918),q=t(17008);function A(){let e=(0,r._)(["\n  query SingleJobQuery($selector: PipelineSelector!) {\n    pipelineOrError(params: $selector) {\n      ... on Pipeline {\n        id\n        name\n        isJob\n        isAssetJob\n        description\n        runs(limit: 5) {\n          id\n          ...RunTimeFragment\n        }\n        schedules {\n          id\n          ...ScheduleSwitchFragment\n        }\n        sensors {\n          id\n          ...SensorSwitchFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return A=function(){return e},e}let U="1.5fr 1fr 180px 96px 80px",Z=e=>{let{name:n,isJob:t,repoAddress:r,start:d,height:m}=e,[f,j]=(0,p.td)(V,{variables:{selector:(0,u._T)(r,n)}});(0,a.v5)(f),(0,h.C4)(j,h.dT);let{data:g}=j,w=(null==g?void 0:g.pipelineOrError.__typename)==="Pipeline"?null==g?void 0:g.pipelineOrError:void 0,{schedules:b,sensors:v}=(0,l.useMemo)(()=>{if(w){let{schedules:e,sensors:n}=w;return{schedules:e,sensors:n}}return{schedules:[],sensors:[]}},[w]),y=(0,l.useMemo)(()=>{if(w){let{runs:e}=w;if(e.length)return[...e]}return[]},[w]);return(0,i.jsx)(q.X2,{$height:m,$start:d,children:(0,i.jsxs)(M,{border:"bottom",children:[(0,i.jsxs)(q.E5,{children:[(0,i.jsx)("div",{style:{maxWidth:"100%",whiteSpace:"nowrap",fontWeight:500},children:(0,i.jsx)(c.rU,{to:(0,x.$U)(r,"/jobs/".concat(n)),children:(0,i.jsx)(o.g,{text:n})})}),(0,i.jsx)(a.HB,{children:(null==w?void 0:w.description)||""})]}),(0,i.jsx)(q.E5,{children:b.length||v.length?(0,i.jsx)(s.x,{flex:{direction:"column",alignItems:"flex-start",gap:8},children:(0,i.jsx)(Y,{children:(0,i.jsx)(J.I,{schedules:b,sensors:v,repoAddress:r})})}):(0,i.jsx)(a.mq,{queryResult:j})}),(0,i.jsx)(q.E5,{children:y[0]?(0,i.jsx)(_.Z,{run:y[0],showButton:!1,showHover:!0,showSummary:!1,name:n}):(0,i.jsx)(a.mq,{queryResult:j})}),(0,i.jsx)(q.E5,{children:y.length?(0,i.jsx)(s.x,{padding:{top:4},children:(0,i.jsx)($.JH,{jobName:n,runs:[...y].reverse(),fade:!0})}):(0,i.jsx)(a.mq,{queryResult:j})}),(0,i.jsx)(q.E5,{children:(0,i.jsx)(s.x,{flex:{justifyContent:"flex-end"},style:{marginTop:"-2px"},children:(0,i.jsx)(P,{job:{name:n,isJob:t,runs:y},isAssetJob:w?w.isAssetJob:"loading",repoAddress:r})})})]})})},F=()=>(0,i.jsxs)(q.VJ,{templateColumns:U,sticky:!0,children:[(0,i.jsx)(q.qN,{children:"Name"}),(0,i.jsx)(q.qN,{children:"Schedules/sensors"}),(0,i.jsx)(q.qN,{children:"Latest run"}),(0,i.jsx)(q.qN,{children:"Run history"}),(0,i.jsx)(q.qN,{})]}),M=(0,d.ZP)(s.x).withConfig({componentId:"sc-b0d21794-0"})(["display:grid;grid-template-columns:",";height:100%;"],U),Y=d.ZP.div.withConfig({componentId:"sc-b0d21794-1"})(["width:100%;> .bp4-popover2-target{width:100%;}"]),V=(0,p.Ps)(A(),O.$X,T.J,k.U)},83738:function(e,n,t){t.d(n,{HB:function(){return b},_$:function(){return g},mq:function(){return w},vG:function(){return j},v5:function(){return y}});var r=t(52322),i=t(39013),o=t(35292),s=t(2784),l=t(35505),c=t(34219),d=t(14934),a=t(56619),u=t(94853),x=t(65822);let p=e=>{let{repoName:n,repoLocation:t,showLocation:o,...s}=e,l=n===x.Js;return(0,r.jsx)(u.N,{...s,children:(0,r.jsxs)(d.x,{flex:{alignItems:"center",gap:8},children:[(0,r.jsx)(a.JO,{name:"folder",color:i.md()}),(0,r.jsxs)("div",{children:[(0,r.jsx)(h,{children:l?t:n}),o&&!l?(0,r.jsx)(m,{children:"@".concat(t)}):null]})]})})},h=l.ZP.span.withConfig({componentId:"sc-bd1c799-0"})(["font-weight:600;"]),m=l.ZP.span.withConfig({componentId:"sc-bd1c799-1"})(["font-weight:400;color:",";"],i.Aw());var f=t(17008);let j=e=>{let{repoAddress:n,height:t,start:i,expanded:o,onToggle:s,onToggleAll:l,showLocation:c,rightElement:d}=e;return(0,r.jsx)(f.X2,{$height:t,$start:i,children:(0,r.jsx)(p,{repoName:n.name,repoLocation:n.location,expanded:o,onClick:e=>e.getModifierState("Shift")?l(!o):s(n),showLocation:c,rightElement:d})})},g=(0,s.forwardRef)((e,n)=>{let{index:t,repoAddress:i,expanded:o,onToggle:s,onToggleAll:l,showLocation:c,rightElement:d}=e;return(0,r.jsx)("div",{ref:n,"data-index":t,children:(0,r.jsx)(p,{repoName:i.name,repoLocation:i.location,expanded:o,onClick:e=>e.getModifierState("Shift")?l(!o):s(i),showLocation:c,rightElement:d})})}),w=e=>{let{queryResult:n,noneString:t="None"}=e,{called:o,loading:s,data:l}=n;return(0,r.jsx)("div",{style:{color:i.$()},children:o&&(!s||l)?t:"Loading"})},b=e=>{let{children:n}=e;return(0,r.jsx)(v,{children:(0,r.jsx)(o.YS,{children:n})})},v=l.ZP.div.withConfig({componentId:"sc-b9e903b5-0"})(["max-width:100%;overflow:hidden;text-overflow:ellipsis;","{color:",";white-space:nowrap;}"],o.YS,i.$()),y=e=>{let n=(0,c.FE)("DelayedRowQuery");s.useEffect(()=>{let t=setTimeout(()=>{e(),n.completeDependency(c.Os.SUCCESS)},100);return()=>{clearTimeout(t)}},[e,n])}}}]);
//# sourceMappingURL=5701.b2290bf7f8baa2e3.js.map